<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sistema de Gesti√≥n Inteligente del Agua</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">üíß</div>
      <div>
        <h1>Sistema de Gesti√≥n Inteligente del Agua</h1>
        <small>Demostraci√≥n interactiva ‚Äî listo para GitHub Pages</small>
      </div>
    </div>
    <nav class="nav">
      <button data-view="dashboard" class="active">Panel</button>
      <button data-view="historial">Historial</button>
      <button data-view="config">Configuraci√≥n</button>
      <button data-view="info">Informaci√≥n</button>
    </nav>
  </header>

  <main class="container">
    <!-- DASHBOARD -->
    <section id="dashboard" class="view active">
      <div class="row">
        <div class="card large">
          <h2>Nivel actual</h2>
          <div class="tank-wrap">
            <div class="tank">
              <div id="water" class="water"></div>
            </div>
            <div class="level-text"><span id="levelText">--%</span></div>
          </div>
          <div class="state" id="stateText">--</div>
          <div class="controls">
            <button id="btnUpdate" class="primary">Actualizar nivel</button>
            <button id="btnAuto" class="ghost">Auto: <span id="autoState">OFF</span></button>
          </div>
        </div>

        <div class="card small">
          <h3>Resumen</h3>
          <ul class="summary">
            <li><strong id="maxVal">--</strong> M√°x</li>
            <li><strong id="minVal">--</strong> M√≠n</li>
            <li><strong id="avgVal">--</strong> Prom</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- HISTORIAL -->
    <section id="historial" class="view">
      <div class="card full">
        <h2>Historial de lecturas</h2>
        <table id="historyTable">
          <thead><tr><th>Fecha / Hora</th><th>Nivel (%)</th></tr></thead>
          <tbody></tbody>
        </table>
        <div class="controls">
          <button id="btnClear" class="danger">Borrar historial</button>
        </div>
      </div>
    </section>

    <!-- CONFIG -->
    <section id="config" class="view">
      <div class="card full">
        <h2>Configuraci√≥n</h2>
        <label>Umbral de alerta (cuando nivel &lt;=): <span id="thresholdVal">30</span>%</label>
        <input id="threshold" type="range" min="5" max="90" value="30"/>
        <div class="row">
          <div class="card small">
            <h3>Tema</h3>
            <button id="themeToggle" class="primary">Modo Oscuro</button>
          </div>
          <div class="card small">
            <h3>Auto-actualizaci√≥n</h3>
            <label><input id="autoIntervalOn" type="checkbox"> Activar auto cada 5s</label>
          </div>
        </div>
      </div>
    </section>

    <!-- INFO -->
    <section id="info" class="view">
      <div class="card full">
        <h2>Informaci√≥n del sistema</h2>
        <p>Este prototipo simula un sistema de gesti√≥n de agua. En un dispositivo f√≠sico, un <strong>ESP32</strong> y un sensor ultras√≥nico medir√≠an la distancia al agua y enviar√≠an el porcentaje real al servidor o a la app.</p>
        <h3>C√≥mo funciona (resumen)</h3>
        <ol>
          <li>Sensor ultras√≥nico mide distancia.</li>
          <li>ESP32 convierte distancia en porcentaje de nivel.</li>
          <li>La app consume el dato (por HTTP/WebSocket) y muestra alertas.</li>
        </ol>
        <p>Esta demo guarda lecturas localmente (localStorage). Puedes subirla a <strong>GitHub Pages</strong> para obtener un enlace p√∫blico.</p>
      </div>
    </section>
  </main>

  <footer class="footer">¬© Sistema de Gesti√≥n Inteligente del Agua</footer>

  <script src="js/app.js"></script>
</body>
</html>
